"use strict";(()=>{var e={};e.id=419,e.ids=[419],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},424:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>y,requestAsyncStorage:()=>m,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{GET:()=>d,dynamic:()=>u});var i=r(9303),o=r(8716),n=r(670),a=r(7070);let u="force-dynamic",p="https://api.repliers.io",l="sSOnHkc9wVilKtkd7N2qRs2R2WMH00";async function d(e,{params:t}){try{let{mlsNumber:e}=t;if(!e)return a.NextResponse.json({error:"MLS number is required"},{status:400});if(!p||!l)return a.NextResponse.json({error:"API configuration missing"},{status:500});let r=await fetch(`${p}/listings/${e}`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!r.ok){if(404===r.status)return a.NextResponse.json({error:"Listing not found"},{status:404});throw Error(`API request failed: ${r.status}`)}let s=await r.json(),i={mlsNumber:s.mlsNumber||e,address:s.address||"",city:s.city||"",state:s.state||"TX",zipCode:s.zipCode||"",price:s.price||s.listPrice||0,bedrooms:s.bedrooms||0,bathrooms:s.bathrooms||0,squareFeet:s.squareFeet||s.livingArea||0,lotSize:s.lotSize||"",yearBuilt:s.yearBuilt||"",description:s.description||s.publicRemarks||"",photos:s.photos||[],primaryPhoto:s.primaryPhoto||s.photos?.[0]?.url||"",listingAgent:s.listingAgent||"",listingOffice:s.listingOffice||"",listDate:s.listDate||"",status:s.status||"Active",propertyType:s.propertyType||"Residential"};return a.NextResponse.json(i)}catch(e){return console.error("Error fetching listing:",e),a.NextResponse.json({error:"Failed to fetch listing data"},{status:500})}}let c=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/listings/[mlsNumber]/route",pathname:"/api/listings/[mlsNumber]",filename:"route",bundlePath:"app/api/listings/[mlsNumber]/route"},resolvedPagePath:"/Users/ryanrodenbeck/clawd/projects/spyglass-studio/src/app/api/listings/[mlsNumber]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:h}=c,f="/api/listings/[mlsNumber]/route";function y(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,972],()=>r(424));module.exports=s})();