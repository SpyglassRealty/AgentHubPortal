### Update Video Player Modal - Add Synced Favorite & Watch Later Buttons

**Issue:** The heart and bookmark icons inside the Vimeo player are Vimeo's built-in features that save to Vimeo.com accounts - NOT synced with Mission Control's Training section favorites/watch later.

**Solution:** Keep Vimeo's buttons but add prominent, clearly-labeled custom buttons below the video that sync with Mission Control's database.

---

## Update VideoPlayerModal Component

Replace the existing VideoPlayerModal in `client/src/pages/training.tsx`:
```tsx
// ============================================
// VIDEO PLAYER MODAL - With Synced Actions
// ============================================

interface VideoPlayerModalProps {
  video: VimeoVideo | null;
  onClose: () => void;
  isDark: boolean;
  preference?: VideoPreference;
  onToggleFavorite: (video: VimeoVideo, e: React.MouseEvent) => void;
  onToggleWatchLater: (video: VimeoVideo, e: React.MouseEvent) => void;
}

function VideoPlayerModal({ 
  video, 
  onClose, 
  isDark,
  preference,
  onToggleFavorite,
  onToggleWatchLater
}: VideoPlayerModalProps) {
  
  // Prevent body scroll when modal is open
  useEffect(() => {
    if (video) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = '';
    }
    return () => {
      document.body.style.overflow = '';
    };
  }, [video]);

  if (!video) return null;

  const getEmbedUrl = () => {
    const baseUrl = video.player_embed_url || `https://player.vimeo.com/video/${video.id}`;
    const separator = baseUrl.includes('?') ? '&' : '?';
    return `${baseUrl}${separator}autoplay=1&title=0&byline=0&portrait=0`;
  };

  const formatDuration = (seconds: number) => {
    const hrs = Math.floor(seconds / 3600);
    const mins = Math.floor((seconds % 3600) / 60);
    const secs = seconds % 60;
    if (hrs > 0) {
      return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      month: 'short',
      day: 'numeric',
      year: 'numeric'
    });
  };

  // Theme classes
  const modalBg = isDark ? 'bg-gray-900' : 'bg-white';
  const textPrimary = isDark ? 'text-white' : 'text-gray-900';
  const textSecondary = isDark ? 'text-gray-400' : 'text-gray-600';
  const borderColor = isDark ? 'border-gray-700' : 'border-gray-200';
  const buttonBg = isDark ? 'bg-gray-800 hover:bg-gray-700' : 'bg-gray-100 hover:bg-gray-200';

  return (
    <div 
      className="fixed inset-0 z-50 flex items-center justify-center bg-black/95 p-0 sm:p-4 md:p-6"
      onClick={onClose}
    >
      <div 
        className={`relative w-full h-full sm:h-auto sm:max-w-4xl md:max-w-5xl sm:rounded-xl overflow-hidden ${modalBg}`}
        onClick={(e) => e.stopPropagation()}
      >
        {/* Close button */}
        <button
          onClick={onClose}
          className={`absolute top-3 right-3 sm:top-4 sm:right-4 z-20 p-2 rounded-full transition-colors
            ${isDark ? 'bg-gray-800/80 hover:bg-gray-700 text-white' : 'bg-white/80 hover:bg-white text-gray-900'}
            backdrop-blur-sm`}
        >
          <X className="w-5 h-5 sm:w-6 sm:h-6" />
        </button>
        
        {/* Video Player */}
        <div className="relative w-full aspect-video bg-black">
          <iframe
            src={getEmbedUrl()}
            className="w-full h-full"
            frameBorder="0"
            allow="autoplay; fullscreen; picture-in-picture"
            allowFullScreen
            title={video.name}
          />
        </div>
        
        {/* Video Info & Action Buttons */}
        <div className={`p-4 sm:p-5 border-t ${borderColor}`}>
          {/* Title & Meta */}
          <div className="mb-4">
            <h3 className={`text-lg sm:text-xl font-semibold ${textPrimary} line-clamp-2`}>
              {video.name}
            </h3>
            <div className={`flex items-center gap-3 mt-2 text-sm ${textSecondary}`}>
              <span className="flex items-center gap-1">
                <Clock className="w-4 h-4" />
                {formatDuration(video.duration)}
              </span>
              <span className="flex items-center gap-1">
                <Calendar className="w-4 h-4" />
                {formatDate(video.created_time)}
              </span>
            </div>
          </div>
          
          {/* Action Buttons - SYNCED WITH DATABASE */}
          <div className="flex flex-col sm:flex-row gap-3">
            {/* Favorite Button */}
            <button
              onClick={(e) => onToggleFavorite(video, e)}
              className={`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all active:scale-[0.98]
                ${preference?.isFavorite 
                  ? 'bg-red-500 hover:bg-red-600 text-white' 
                  : `${buttonBg} ${textPrimary} border ${borderColor}`
                }`}
            >
              <Heart className={`w-5 h-5 ${preference?.isFavorite ? 'fill-white' : ''}`} />
              <span>{preference?.isFavorite ? 'Remove from Favorites' : 'Add to Favorites'}</span>
            </button>
            
            {/* Watch Later Button */}
            <button
              onClick={(e) => onToggleWatchLater(video, e)}
              className={`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all active:scale-[0.98]
                ${preference?.isWatchLater 
                  ? 'bg-orange-500 hover:bg-orange-600 text-white' 
                  : `${buttonBg} ${textPrimary} border ${borderColor}`
                }`}
            >
              <BookmarkPlus className={`w-5 h-5 ${preference?.isWatchLater ? 'fill-white' : ''}`} />
              <span>{preference?.isWatchLater ? 'Remove from Watch Later' : 'Watch Later'}</span>
            </button>
          </div>
          
          {/* Sync Notice */}
          <p className={`mt-3 text-xs ${textSecondary} text-center`}>
            <span className="inline-flex items-center gap-1">
              <CheckCircle className="w-3 h-3 text-green-500" />
              These buttons sync with your Training Library
            </span>
          </p>
        </div>
      </div>
    </div>
  );
}
```

---

## Update VideoPlayerModal Usage in TrainingPage

Find where `VideoPlayerModal` is rendered and update the props:
```tsx
{/* Video Player Modal */}
<VideoPlayerModal
  video={playingVideo}
  onClose={() => setPlayingVideo(null)}
  isDark={isDark}
  preference={playingVideo ? preferences[playingVideo.id] : undefined}
  onToggleFavorite={toggleFavorite}
  onToggleWatchLater={toggleWatchLater}
/>
```

---

## Visual Layout

### Desktop View (Dark Mode)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 [X] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚                    [VIMEO VIDEO PLAYER]                       â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚           (Vimeo's heart/bookmark still visible)              â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  â–¶ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  ğŸ”Š  â›¶                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                     â”‚
â”‚  Training for Listing Agents and Spyglass Listing Process...       â”‚
â”‚  ğŸ• 1:18:28  â€¢  ğŸ“… Nov 12, 2025                                     â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  â™¥  Add to Favorites    â”‚  â”‚  ğŸ”–  Watch Later        â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                     â”‚
â”‚           âœ“ These buttons sync with your Training Library           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### Mobile View (Dark Mode)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               [X] â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚    [VIMEO VIDEO PLAYER]     â”‚  â”‚
â”‚  â”‚                             â”‚  â”‚
â”‚  â”‚  â–¶ â”â”â”â”â”â”â—â”â”â”â”â”â”â”  ğŸ”Š  â›¶   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                   â”‚
â”‚  Training for Listing Agents...   â”‚
â”‚  ğŸ• 1:18:28  â€¢  ğŸ“… Nov 12, 2025   â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   â™¥  Add to Favorites       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ğŸ”–  Watch Later           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚
â”‚  âœ“ Syncs with Training Library   â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

### Button States

**Not Favorited (Default):**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â™¥  Add to Favorites        â”‚  â† Gray background, dark text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Favorited (Active):**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â™¥  Remove from Favorites   â”‚  â† Red background (#EF4444), white text, filled heart
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Not Saved (Default):**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”–  Watch Later            â”‚  â† Gray background, dark text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Saved (Active):**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”–  Remove from Watch Laterâ”‚  â† Orange background (#F97316), white text, filled icon
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

## Testing Checklist

### Functionality
- [ ] Clicking "Add to Favorites" saves to database
- [ ] Clicking "Remove from Favorites" removes from database
- [ ] Clicking "Watch Later" saves to database
- [ ] Clicking "Remove from Watch Later" removes from database
- [ ] Button states update immediately (optimistic update)
- [ ] After closing modal, video card shows updated state
- [ ] "My Favorites" row updates after favoriting
- [ ] "Watch Later" row updates after saving
- [ ] Modal shows correct initial state based on existing preference

### Theme Sync
- [ ] Light mode: White modal, gray buttons, dark text
- [ ] Dark mode: Gray-900 modal, gray-800 buttons, white text
- [ ] Active favorite button: Red in both themes
- [ ] Active watch later button: Orange in both themes
- [ ] Border colors correct per theme

### Responsive
- [ ] Desktop: Buttons side-by-side
- [ ] Mobile: Buttons stacked vertically
- [ ] Touch targets large enough (min 44px height)
- [ ] Text readable on all sizes
- [ ] Video aspect ratio maintained

### Integration
- [ ] Hero banner "Watch Later" syncs with modal
- [ ] Video card actions sync with modal
- [ ] Search result cards sync with modal
- [ ] All rows reflect correct state after modal actions
