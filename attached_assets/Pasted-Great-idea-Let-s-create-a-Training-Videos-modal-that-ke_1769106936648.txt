Great idea! Let's create a Training Videos modal that keeps users in Mission Control. Send this to Mission Control Replit:
### Replace Vimeo Redirect with Training Videos Modal

**Current Behavior:**
- "Jointly Training" under Company Updates redirects to Vimeo in a new tab

**New Behavior:**
- Clicking opens a modal with embedded Vimeo player
- User can navigate through all available training videos
- Videos sorted newest to oldest
- Stay within Mission Control

---

## Implementation

### 1. Create Training Videos Modal Component
```tsx
// components/TrainingVideosModal.tsx

import { useState, useEffect } from 'react';
import { X, Play, Clock, Calendar, ChevronRight, Loader2, Maximize2, Minimize2 } from 'lucide-react';
import { useTheme } from '@/contexts/ThemeContext';

interface VimeoVideo {
  id: string;
  name: string;
  description: string;
  duration: number; // in seconds
  created_time: string;
  link: string;
  player_embed_url: string;
  pictures: {
    sizes: Array<{ link: string; width: number; height: number }>;
  };
}

interface TrainingVideosModalProps {
  isOpen: boolean;
  onClose: () => void;
  initialVideoId?: string; // Optional: open with specific video selected
}

export function TrainingVideosModal({ isOpen, onClose, initialVideoId }: TrainingVideosModalProps) {
  const { theme } = useTheme();
  const isDark = theme === 'dark';
  
  const [videos, setVideos] = useState<VimeoVideo[]>([]);
  const [selectedVideo, setSelectedVideo] = useState<VimeoVideo | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const [isTheaterMode, setIsTheaterMode] = useState(false);

  // Theme classes
  const modalBg = isDark ? 'bg-gray-900' : 'bg-white';
  const sidebarBg = isDark ? 'bg-gray-800' : 'bg-gray-50';
  const textPrimary = isDark ? 'text-white' : 'text-gray-900';
  const textSecondary = isDark ? 'text-gray-400' : 'text-gray-600';
  const borderColor = isDark ? 'border-gray-700' : 'border-gray-200';
  const hoverBg = isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-100';
  const activeBg = isDark ? 'bg-gray-700' : 'bg-orange-50';
  const overlayBg = isDark ? 'bg-black/80' : 'bg-black/50';

  useEffect(() => {
    if (isOpen) {
      fetchVideos();
    }
  }, [isOpen]);

  useEffect(() => {
    // Select initial video or first video when videos load
    if (videos.length > 0 && !selectedVideo) {
      if (initialVideoId) {
        const initial = videos.find(v => v.id === initialVideoId);
        setSelectedVideo(initial || videos[0]);
      } else {
        setSelectedVideo(videos[0]);
      }
    }
  }, [videos, initialVideoId]);

  const fetchVideos = async () => {
    setLoading(true);
    setError(null);
    
    try {
      const response = await fetch('/api/vimeo/training-videos');
      if (!response.ok) throw new Error('Failed to fetch videos');
      
      const data = await response.json();
      // Sort by created_time descending (newest first)
      const sortedVideos = (data.videos || []).sort((a: VimeoVideo, b: VimeoVideo) => 
        new Date(b.created_time).getTime() - new Date(a.created_time).getTime()
      );
      setVideos(sortedVideos);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'Failed to load videos');
    } finally {
      setLoading(false);
    }
  };

  const formatDuration = (seconds: number) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins}:${secs.toString().padStart(2, '0')}`;
  };

  const formatDate = (dateString: string) => {
    const date = new Date(dateString);
    const now = new Date();
    const diffDays = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24));
    
    if (diffDays === 0) return 'Today';
    if (diffDays === 1) return 'Yesterday';
    if (diffDays < 7) return `${diffDays} days ago`;
    if (diffDays < 30) return `${Math.floor(diffDays / 7)} weeks ago`;
    
    return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  };

  const getThumbnail = (video: VimeoVideo) => {
    // Get medium-sized thumbnail
    const sizes = video.pictures?.sizes || [];
    const medium = sizes.find(s => s.width >= 640) || sizes[sizes.length - 1];
    return medium?.link || '';
  };

  if (!isOpen) return null;

  return (
    <div 
      className={`fixed inset-0 z-50 flex items-center justify-center p-4 ${overlayBg}`}
      onClick={onClose}
    >
      <div 
        className={`
          relative flex
          ${isTheaterMode ? 'w-full h-full' : 'w-full max-w-6xl h-[85vh]'}
          ${modalBg} rounded-xl shadow-2xl overflow-hidden
          transition-all duration-300
        `}
        onClick={(e) => e.stopPropagation()}
      >
        {/* Main Content Area */}
        <div className="flex-1 flex flex-col min-w-0">
          {/* Header */}
          <div className={`flex items-center justify-between px-4 py-3 border-b ${borderColor}`}>
            <div className="flex items-center gap-3">
              <div className="w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center">
                <Play className="w-4 h-4 text-white fill-white" />
              </div>
              <div>
                <h2 className={`font-semibold ${textPrimary}`}>Training Videos</h2>
                <p className={`text-xs ${textSecondary}`}>{videos.length} videos available</p>
              </div>
            </div>
            
            <div className="flex items-center gap-2">
              <button
                onClick={() => setIsTheaterMode(!isTheaterMode)}
                className={`p-2 rounded-lg ${hoverBg} transition-colors ${textSecondary}`}
                title={isTheaterMode ? 'Exit theater mode' : 'Theater mode'}
              >
                {isTheaterMode ? <Minimize2 className="w-5 h-5" /> : <Maximize2 className="w-5 h-5" />}
              </button>
              <button
                onClick={onClose}
                className={`p-2 rounded-lg ${hoverBg} transition-colors ${textSecondary}`}
              >
                <X className="w-5 h-5" />
              </button>
            </div>
          </div>

          {/* Video Player */}
          <div className="flex-1 bg-black flex items-center justify-center">
            {loading ? (
              <div className="flex flex-col items-center gap-3">
                <Loader2 className="w-8 h-8 animate-spin text-white/50" />
                <p className="text-white/50">Loading videos...</p>
              </div>
            ) : error ? (
              <div className="flex flex-col items-center gap-3">
                <p className="text-red-400">{error}</p>
                <button 
                  onClick={fetchVideos}
                  className="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600"
                >
                  Retry
                </button>
              </div>
            ) : selectedVideo ? (
              <iframe
                src={`https://player.vimeo.com/video/${selectedVideo.id}?autoplay=0&title=0&byline=0&portrait=0`}
                className="w-full h-full"
                frameBorder="0"
                allow="autoplay; fullscreen; picture-in-picture"
                allowFullScreen
                title={selectedVideo.name}
              />
            ) : (
              <p className="text-white/50">No video selected</p>
            )}
          </div>

          {/* Video Info (below player) */}
          {selectedVideo && !loading && (
            <div className={`p-4 border-t ${borderColor}`}>
              <h3 className={`font-semibold ${textPrimary} mb-1`}>{selectedVideo.name}</h3>
              <div className={`flex items-center gap-4 text-sm ${textSecondary}`}>
                <span className="flex items-center gap-1">
                  <Clock className="w-4 h-4" />
                  {formatDuration(selectedVideo.duration)}
                </span>
                <span className="flex items-center gap-1">
                  <Calendar className="w-4 h-4" />
                  {formatDate(selectedVideo.created_time)}
                </span>
              </div>
              {selectedVideo.description && (
                <p className={`mt-2 text-sm ${textSecondary} line-clamp-2`}>
                  {selectedVideo.description}
                </p>
              )}
            </div>
          )}
        </div>

        {/* Video List Sidebar */}
        {!isTheaterMode && (
          <div className={`w-80 ${sidebarBg} border-l ${borderColor} flex flex-col`}>
            <div className={`p-3 border-b ${borderColor}`}>
              <h3 className={`font-medium ${textPrimary} text-sm`}>All Videos</h3>
              <p className={`text-xs ${textSecondary}`}>Newest first</p>
            </div>
            
            <div className="flex-1 overflow-y-auto">
              {loading ? (
                <div className="flex items-center justify-center py-8">
                  <Loader2 className={`w-6 h-6 animate-spin ${textSecondary}`} />
                </div>
              ) : videos.length === 0 ? (
                <div className={`p-4 text-center ${textSecondary}`}>
                  No training videos available
                </div>
              ) : (
                <div className="divide-y divide-gray-200 dark:divide-gray-700">
                  {videos.map((video, index) => (
                    <button
                      key={video.id}
                      onClick={() => setSelectedVideo(video)}
                      className={`
                        w-full p-3 text-left transition-colors
                        ${selectedVideo?.id === video.id ? activeBg : hoverBg}
                      `}
                    >
                      <div className="flex gap-3">
                        {/* Thumbnail */}
                        <div className="relative flex-shrink-0 w-28 h-16 rounded overflow-hidden bg-gray-900">
                          {getThumbnail(video) ? (
                            <img 
                              src={getThumbnail(video)} 
                              alt={video.name}
                              className="w-full h-full object-cover"
                            />
                          ) : (
                            <div className="w-full h-full flex items-center justify-center">
                              <Play className="w-6 h-6 text-white/30" />
                            </div>
                          )}
                          {/* Duration badge */}
                          <span className="absolute bottom-1 right-1 px-1 py-0.5 bg-black/80 text-white text-xs rounded">
                            {formatDuration(video.duration)}
                          </span>
                          {/* Now playing indicator */}
                          {selectedVideo?.id === video.id && (
                            <div className="absolute inset-0 bg-orange-500/20 flex items-center justify-center">
                              <div className="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center">
                                <Play className="w-4 h-4 text-white fill-white" />
                              </div>
                            </div>
                          )}
                          {/* New badge for videos less than 7 days old */}
                          {index === 0 && (
                            <span className="absolute top-1 left-1 px-1.5 py-0.5 bg-orange-500 text-white text-xs rounded font-medium">
                              NEW
                            </span>
                          )}
                        </div>
                        
                        {/* Video info */}
                        <div className="flex-1 min-w-0">
                          <h4 className={`font-medium text-sm ${textPrimary} line-clamp-2`}>
                            {video.name}
                          </h4>
                          <p className={`text-xs ${textSecondary} mt-1`}>
                            {formatDate(video.created_time)}
                          </p>
                        </div>
                      </div>
                    </button>
                  ))}
                </div>
              )}
            </div>
          </div>
        )}
      </div>
    </div>
  );
}
```

---

### 2. Add API Endpoint to Fetch All Training Videos
```typescript
// server/routes.ts

// GET /api/vimeo/training-videos - Fetch all training videos from folder
router.get('/api/vimeo/training-videos', async (req, res) => {
  try {
    const VIMEO_ACCESS_TOKEN = process.env.VIMEO_ACCESS_TOKEN;
    const VIMEO_FOLDER_ID = process.env.VIMEO_FOLDER_ID; // Training videos folder
    
    if (!VIMEO_ACCESS_TOKEN) {
      return res.status(503).json({ error: 'Vimeo not configured' });
    }

    // Fetch videos from folder (or user's videos if no folder specified)
    const endpoint = VIMEO_FOLDER_ID 
      ? `https://api.vimeo.com/me/folders/${VIMEO_FOLDER_ID}/videos`
      : 'https://api.vimeo.com/me/videos';
    
    const response = await fetch(`${endpoint}?per_page=50&sort=date&direction=desc`, {
      headers: {
        'Authorization': `Bearer ${VIMEO_ACCESS_TOKEN}`,
        'Content-Type': 'application/json'
      }
    });

    if (!response.ok) {
      throw new Error('Failed to fetch from Vimeo');
    }

    const data = await response.json();
    
    // Transform Vimeo response to our format
    const videos = data.data.map((video: any) => ({
      id: video.uri.split('/').pop(), // Extract video ID from URI
      name: video.name,
      description: video.description || '',
      duration: video.duration,
      created_time: video.created_time,
      link: video.link,
      player_embed_url: video.player_embed_url,
      pictures: video.pictures
    }));

    res.json({ 
      videos,
      total: data.total,
      page: data.page,
      per_page: data.per_page
    });
    
  } catch (error) {
    console.error('[Vimeo API Error]', error);
    res.status(500).json({ error: 'Failed to fetch training videos' });
  }
});
```

---

### 3. Update Dashboard to Use Modal
```tsx
// In client/src/pages/dashboard.tsx

import { useState } from 'react';
import { TrainingVideosModal } from '@/components/TrainingVideosModal';

export default function Dashboard() {
  const [showTrainingVideos, setShowTrainingVideos] = useState(false);
  const [initialVideoId, setInitialVideoId] = useState<string | undefined>();

  // ... existing code ...

  return (
    <div>
      {/* ... other dashboard content ... */}

      {/* Company Updates Section */}
      <div className={`${cardBg} rounded-xl border ${borderColor}`}>
        <h3 className={`font-semibold ${textPrimary} p-4 border-b ${borderColor}`}>
          Company Updates
        </h3>
        
        {/* Latest Training Video - Now opens modal */}
        {vimeoData && (
          <div 
            onClick={() => {
              setInitialVideoId(vimeoData.video.id);
              setShowTrainingVideos(true);
            }}
            className={`p-4 flex gap-4 border-b ${borderColor} ${hoverBg} transition-colors cursor-pointer`}
          >
            <div className="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center">
              <Play className="w-5 h-5 text-orange-500" />
            </div>
            <div className="flex-1">
              <div className="flex items-center gap-2 mb-1">
                <span className="px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 text-xs rounded-full font-medium">
                  New Training
                </span>
                <span className={`text-xs ${textSecondary}`}>
                  {formatDuration(vimeoData.video.duration)}
                </span>
              </div>
              <h4 className={`font-medium ${textPrimary}`}>{vimeoData.video.name}</h4>
              <p className={`text-sm ${textSecondary}`}>
                Watch the latest training module from Spyglass Realty.
              </p>
            </div>
            <ChevronRight className={`w-5 h-5 ${textSecondary} self-center`} />
          </div>
        )}

        {/* Q4 Goals & Incentives - Keep or remove based on your preference */}
        {/* ... */}
      </div>

      {/* Training Videos Modal */}
      <TrainingVideosModal
        isOpen={showTrainingVideos}
        onClose={() => {
          setShowTrainingVideos(false);
          setInitialVideoId(undefined);
        }}
        initialVideoId={initialVideoId}
      />
    </div>
  );
}
```

---

### 4. Visual Design

**Modal Layout:**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â–¶] Training Videos                              [â›¶ Theater] [âœ•]           â”‚
â”‚     12 videos available                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚ All Videos          â”‚
â”‚                                                       â”‚ Newest first        â”‚
â”‚                                                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚ â”Œâ”€â”€â”€â”€â”€â”             â”‚
â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚â–¶ NEWâ”‚ Jointly     â”‚
â”‚               â”‚                     â”‚                 â”‚ â”‚24:21â”‚ Training    â”‚
â”‚               â”‚    Vimeo Player     â”‚                 â”‚ â””â”€â”€â”€â”€â”€â”˜ Today       â”‚
â”‚               â”‚    (embedded)       â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚               â”‚                     â”‚                 â”‚ â”Œâ”€â”€â”€â”€â”€â” Contract    â”‚
â”‚               â”‚                     â”‚                 â”‚ â”‚â–¶    â”‚ Writing     â”‚
â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚18:45â”‚ Basics      â”‚
â”‚                                                       â”‚ â””â”€â”€â”€â”€â”€â”˜ 3 days ago  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Jointly Training                                      â”‚ â”Œâ”€â”€â”€â”€â”€â” Showing     â”‚
â”‚ ğŸ• 24:21  ğŸ“… Today                                    â”‚ â”‚â–¶    â”‚ Prep Tips   â”‚
â”‚ Learn how to use Jointly for transaction management.  â”‚ â”‚12:30â”‚             â”‚
â”‚                                                       â”‚ â””â”€â”€â”€â”€â”€â”˜ 1 week ago  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

**Theater Mode (no sidebar):**
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â–¶] Training Videos                              [â›¶ Exit] [âœ•]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                    â”‚                                   â”‚                    â”‚
â”‚                    â”‚         Vimeo Player              â”‚                    â”‚
â”‚                    â”‚         (full width)              â”‚                    â”‚
â”‚                    â”‚                                   â”‚                    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Jointly Training  |  ğŸ• 24:21  |  ğŸ“… Today                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

---

### 5. Features Summary

| Feature | Description |
|---------|-------------|
| **Embedded Player** | Vimeo videos play directly in modal |
| **Video List** | Sidebar shows all available videos |
| **Sorted by Date** | Newest videos appear first |
| **NEW Badge** | Latest video gets highlighted |
| **Theater Mode** | Toggle to hide sidebar for larger player |
| **Thumbnails** | Video thumbnails in sidebar |
| **Duration** | Shows video length |
| **Date** | Shows when video was added |
| **Auto-select** | Opens with clicked video selected |
| **Light/Dark Mode** | Fully themed modal |

---

## Testing Checklist

- [ ] Clicking "Jointly Training" opens modal (not new tab)
- [ ] Modal shows embedded Vimeo player
- [ ] Videos load in sidebar (newest first)
- [ ] Clicking video in sidebar changes player
- [ ] NEW badge shows on latest video
- [ ] Theater mode toggles sidebar
- [ ] Duration displays correctly
- [ ] Dates display correctly (Today, Yesterday, X days ago)
- [ ] Thumbnails load for videos
- [ ] Close button works
- [ ] Clicking outside modal closes it
- [ ] Light mode styling correct
- [ ] Dark mode styling correct
- [ ] Loading state shows spinner
- [ ] Error state shows retry button
